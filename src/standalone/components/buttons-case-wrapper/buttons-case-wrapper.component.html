<div class="grid grid-cols-5 gap-4 mt-3">
  <!-- save -->
  <app-button [disabled]="!model?.canSave()" (click)="onSave.emit(SaveTypes.FINAL)">{{ lang.map.save }}</app-button>

  <!-- manager approve -->
  <app-button *ngIf="model?.isClaimed() && model?.hasResponse(taskResponses.MANAGER_APPROVE)"
    (click)="responseAction$.next(taskResponses.MANAGER_APPROVE)">
    {{ lang.map.manager_approve }}
  </app-button>
  <!-- hr manager approve -->
  <app-button *ngIf="model?.isClaimed() && model?.hasResponse(taskResponses.HR_APPROVE)"
    (click)="responseAction$.next(taskResponses.HR_APPROVE)">
    {{ lang.map.manager_approve }}
  </app-button>
  <!-- complete action -->
  <app-button *ngIf="model?.hasComplete()" (click)="responseAction$.next(taskResponses.COMPLETE)">
    {{ lang.map.complete }}
  </app-button>
  <!-- final complete action -->
  <app-button *ngIf="model?.isClaimed() && model?.hasResponse(taskResponses.PA_FNL_COMPLETE)"
    (click)="responseAction$.next(taskResponses.PA_FNL_COMPLETE)">
    {{ lang.map.final_complete }}
  </app-button>

  <!-- apply and return -->
  <app-button buttonType="secondary"
    *ngIf="model?.isClaimed() && model?.hasResponse(taskResponses.PA_FNL_APPLY_AND_RETURN)"
    (click)="responseAction$.next(taskResponses.PA_FNL_APPLY_AND_RETURN)">
    {{ lang.map.apply_and_return_remining }}
  </app-button>
  <!-- Issuing a referral decision to study in the president assistant office -->
  <app-button buttonType="secondary" *ngIf="model?.isClaimed() && model?.hasResponse(taskResponses.PA_FNL_TO_PAE)"
    (click)="responseAction$.next(taskResponses.PA_FNL_TO_PAE)">
    {{ lang.map.final_issuing_referral_decision_to_study_in_the_president_assistant_office}}
  </app-button>
  <!-- transfer report to staff president office -->
  <app-button buttonType="secondary" *ngIf="model?.isClaimed() && model?.hasResponse(taskResponses.TO_PO)"
    (click)="responseAction$.next(taskResponses.TO_PO)">
    {{ lang.map.transfer_report_to_staff_president_office}}
  </app-button>

  <!-- return -->
  <app-button *ngIf="
      model?.isClaimed() &&
      (model?.hasResponse(taskResponses.TO_USER) ||
        model?.hasResponse(taskResponses.RETURN_TO_HR) ||
        model?.hasResponse(taskResponses.RETURN_TO_SAME) ||
        model?.hasResponse(taskResponses.RETURN_TO_APP) ||
        model?.hasResponse(taskResponses.RETURN_APP_MANAGER))
    " buttonType="secondary" mat-button [matMenuTriggerFor]="returnMenu">
    {{ lang.map.return }}
    <mat-icon class="ms-auto" [svgIcon]="AppIcons.CHEVRON_UP"></mat-icon>
  </app-button>
  <mat-menu #returnMenu="matMenu">
    <button mat-menu-item *ngIf="model?.hasResponse(taskResponses.RETURN_APP_MANAGER)"
      (click)="responseAction$.next(taskResponses.RETURN_APP_MANAGER)">
      {{ lang.map.return_to_manager }}
    </button>
    <button mat-menu-item *ngIf="model?.hasResponse(taskResponses.RETURN_TO_HR)"
      (click)="responseAction$.next(taskResponses.RETURN_TO_HR)">
      {{ lang.map.return_to_hr_department }}
    </button>
    <button mat-menu-item *ngIf="model?.hasResponse(taskResponses.TO_USER)"
      (click)="responseAction$.next(taskResponses.TO_USER)">
      {{ lang.map.return }}
    </button>
    <button mat-menu-item *ngIf="model?.hasResponse(taskResponses.RETURN_TO_SAME)"
      (click)="responseAction$.next(taskResponses.RETURN_TO_SAME)">
      {{ lang.map.return_to_same }}
    </button>
    <button mat-menu-item *ngIf="model?.hasResponse(taskResponses.RETURN_TO_APP)"
      (click)="responseAction$.next(taskResponses.RETURN_TO_APP)">
      {{ lang.map.return_to_applicant_department }}
    </button>
  </mat-menu>

  <!-- referral request -->
  <app-button *ngIf="
      model?.isClaimed() &&
      (model?.hasResponse(taskResponses.REFERRAL_TO_PRESODENT) ||
        model?.hasResponse(taskResponses.REFERRAL_TO_PRESODENT_ASSISTANT))
    " buttonType="secondary" mat-button [matMenuTriggerFor]="referralMenu">
    {{ lang.map.referral_request }}
    <mat-icon class="ms-auto" [svgIcon]="AppIcons.CHEVRON_UP"></mat-icon>
  </app-button>
  <mat-menu #referralMenu="matMenu">
    <button mat-menu-item *ngIf="model?.hasResponse(taskResponses.REFERRAL_TO_PRESODENT)"
      (click)="responseAction$.next(taskResponses.REFERRAL_TO_PRESODENT)">
      {{ lang.map.referral_request_to_presodent }}
    </button>
    <button mat-menu-item *ngIf="model?.hasResponse(taskResponses.REFERRAL_TO_PRESODENT_ASSISTANT)"
      (click)="responseAction$.next(taskResponses.REFERRAL_TO_PRESODENT_ASSISTANT)">
      {{ lang.map.referral_request_to_presodent_assistant }}
    </button>
  </mat-menu>

  <!-- send to -->
  <app-button *ngIf="model?.isClaimed() && (
        model?.hasResponse(taskResponses.PA_FNL_LAUNCH_LEGAL_AFFAIRS) ||
        model?.hasResponse(taskResponses.PA_FNL_LAUNCH_DISCIPLINARY_COUNCIL) ||
        model?.hasResponse(taskResponses.PA_FNL_LAUNCH_PERMANENT_DISCIPLINARY_COUNCIL)
      )" buttonType="secondary" mat-button [matMenuTriggerFor]="sendToMenu"> {{ lang.map.send_to }}
    <mat-icon class="ms-auto" [svgIcon]="AppIcons.CHEVRON_UP"></mat-icon>
  </app-button>
  <mat-menu #sendToMenu="matMenu">
    <!-- launch legal affairs -->
    <button mat-menu-item *ngIf="model?.hasResponse(taskResponses.PA_FNL_LAUNCH_LEGAL_AFFAIRS)"
      (click)="responseAction$.next(taskResponses.PA_FNL_LAUNCH_LEGAL_AFFAIRS)">
      {{ lang.map.launch_legal_affairs }}
    </button>
    <!-- launch disciplinary council -->
    <button mat-menu-item *ngIf="model?.hasResponse(taskResponses.PA_FNL_LAUNCH_DISCIPLINARY_COUNCIL)"
      (click)="responseAction$.next(taskResponses.PA_FNL_LAUNCH_DISCIPLINARY_COUNCIL)">
      {{ lang.map.launch_disciplinary_council }}
    </button>
    <!-- launch disciplinary council -->
    <button mat-menu-item *ngIf="model?.hasResponse(taskResponses.PA_FNL_LAUNCH_PERMANENT_DISCIPLINARY_COUNCIL)"
      (click)="responseAction$.next(taskResponses.PA_FNL_LAUNCH_PERMANENT_DISCIPLINARY_COUNCIL)">
      {{ lang.map.launch_permanent_disciplinary_council }}
    </button>
  </mat-menu>

  <!-- issuing referral decision -->
  <app-button *ngIf="model?.isClaimed() && (
      model?.hasResponse(taskResponses.PA_LAUNCH_LEGAL_AFFAIRS) ||
      model?.hasResponse(taskResponses.LAUNCH_LEAGL_AFFAIRS) ||
      model?.hasResponse(taskResponses.TO_PAE))" buttonType="secondary" mat-button [matMenuTriggerFor]="issuingMenu">
    {{ lang.map.issuing_referral_decision }}
    <mat-icon class="ms-auto" [svgIcon]="AppIcons.CHEVRON_UP"></mat-icon>
  </app-button>
  <mat-menu #issuingMenu="matMenu">
    <!-- issuing referral decision to legal affairs manager -->
    <button mat-menu-item *ngIf="model?.hasResponse(taskResponses.PA_LAUNCH_LEGAL_AFFAIRS)"
      (click)="responseAction$.next(taskResponses.PA_LAUNCH_LEGAL_AFFAIRS)">
      {{ lang.map.to_legal_affairs_manager }}
    </button>
    <!-- issuing referral decision to legal affairs manager -->
    <button mat-menu-item *ngIf="model?.hasResponse(taskResponses.LAUNCH_LEAGL_AFFAIRS)"
      (click)="responseAction$.next(taskResponses.LAUNCH_LEAGL_AFFAIRS)">
      {{ lang.map.to_legal_affairs_manager }}
    </button>
    <!-- Issuing a referral decision to study in the president assistant office -->
    <button mat-menu-item *ngIf="model?.hasResponse(taskResponses.TO_PAE)"
      (click)="responseAction$.next(taskResponses.TO_PAE)">
      {{ lang.map.to_study_in_the_president_assistant_office }}
    </button>
  </mat-menu>

  <!-- data entry actions -->
  <!-- send to manager -->
  <app-button *ngIf="canLaunch() && !isApplicantManager()"
    (click)="onLaunch.emit(isApplicantChief() ? sendTypes.CHIEF_TO_MANAGER : sendTypes.DIRECTOR_ADMIN)">{{
    lang.map.send_to_manager
    }}</app-button>
  <!-- send to chief -->
  <app-button *ngIf="canLaunch() && !isApplicantManager() && model?.sectionId"
    (click)="onLaunch.emit(sendTypes.DIRECT_DEPARTMENT)">{{
    lang.map.send_to_chief
    }}</app-button>

  <!-- data entry chief actions -->
  <!-- send to manager -->
  <app-button *ngIf="model?.isClaimed() && model?.hasResponse(taskResponses.TO_MANAGER)"
    (click)="responseAction$.next(taskResponses.TO_MANAGER)">
    {{ lang.map.to_manager }}
  </app-button>

  <!-- cliam -->
  <app-button *ngIf="model?.canClaim()" (click)="claim()">
    {{ lang.map.claim }}
  </app-button>

  <!-- close action -->
  <app-button buttonType="error" *ngIf="model?.isClaimed() && model?.hasResponse(taskResponses.CLOSE)"
    (click)="responseAction$.next(taskResponses.CLOSE)">
    {{ lang.map.close }}
  </app-button>

  <!-- terminate -->
  <app-button buttonType="error" *ngIf="model?.isClaimed() && model?.hasResponse(taskResponses.TERMINATE)"
    (click)="responseAction$.next(taskResponses.TERMINATE)">
    {{ lang.map.terminate }}
  </app-button>

</div>