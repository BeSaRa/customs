<div
  class="flex bg-gradient-to-br from-primary to-primary-light text-white rounded-tr-lg rounded-tl-lg items-center justify-start py-2">
  <h1 class="text-xl min-h-[3rem] align-middle flex items-center px-3">
    {{ lang.map.menu_global_setting }}
  </h1>
  <app-icon-button [matTooltip]="lang.map.reload" (click)="reload$.next()" icon="RELOAD"></app-icon-button>
  <app-icon-button [matTooltip]="lang.map.edit" (click)="edit$.next(globalSettings)" icon="EDIT"></app-icon-button>
</div>
<div class="shadow relative">
  <div *ngIf="loading$ | async" class="z-20 bg-black bg-opacity-5 absolute inset-0 flex justify-center">
    <mat-spinner Style="margin-top: 120px" [diameter]="75"></mat-spinner>
  </div>
  <div class="dialog-content">
    <ng-container [formGroup]="form">
      <div class="grid grid-cols-4 gap-4">
        <app-input formControlName="systemArabicName" [label]="lang.map.system_ar_name" />
        <app-input formControlName="systemEnglishName" [label]="lang.map.system_en_name" />
        <app-input
          formControlName="sessionTimeout"
          type="number"
          [label]="lang.map.session_time_out + ' (' + lang.map.minutes + ') '" />
        <app-input formControlName="fileSize" type="number" [label]="lang.map.file_size" />
        <app-select-input
          formControlName="fileTypeParsed"
          [options]="fileTypes"
          [label]="lang.map.file_type"
          bindValue="id"
          [isMultiple]="true"
          bindLabel="getNames" />
        <app-input
          formControlName="inboxRefreshInterval"
          type="number"
          [label]="lang.map.inbox_refresh_interval + ' (' + lang.map.minutes + ') '" />
        <!-- <app-input formControlName="supportEmailListParsed" [label]="lang.map.support_email_list" /> -->

        <!-- <mat-select [formControl]="toppings" (selectionChange)="filter($event)" multiple [(value)]="selected" >
          <mat-option *ngFor="let topping of toppingList" [value]="topping">{{topping}}</mat-option>
      </mat-select> -->
        <!-- <app-select-input formControlName="supportEmailList" options="" [isMultiple]="true" /> -->
        <app-input formControlName="maxDeductionRatio" type="number" [label]="lang.map.max_deduction_ratio" />
        <div class="flex flex-row pl-1 items-center justify-start">
          <app-switch
            [trueValue]="1"
            [falseValue]="0"
            formControlName="enableMailNotification"
            [label]="lang.map.mail_notifications"></app-switch>
        </div>
        <div class="flex flex-row pl-1 items-center justify-start">
          <app-switch
            [trueValue]="1"
            [falseValue]="0"
            formControlName="enableSMSNotification"
            [label]="lang.map.sms_notifications"></app-switch>
        </div>
      </div>
      <div class="flex items-center">
        <ng-container formArrayName="supportEmailListParsed">
          <ng-container *ngFor="let emailInput of supportEmailListParsed.controls; let i = index">
            <app-input class="mx-2" [formControlName]="i" [label]="lang.map.email + ' ' + (i + 1)" />
          </ng-container>
        </ng-container>
      </div>
    </ng-container>
  </div>
</div>
